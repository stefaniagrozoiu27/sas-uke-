#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision + 0;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x5776bb3f8790 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x5776bb3f5fb0 .scope module, "tb_motion_corrector" "tb_motion_corrector" 3 1;
 .timescale 0 0;
P_0x5776bb3f37a0 .param/real "SCALE" 1 3 4, Cr<m4000000000000000gfd2>; value=65536.0
P_0x5776bb3f37e0 .param/real "SCAN_TIME" 1 3 7, Cr<m6666666666666800gfbf>; value=0.200000
P_0x5776bb3f3820 .param/real "VX" 1 3 8, Cr<m6000000000000000gfc3>; value=3.00000
P_0x5776bb3f3860 .param/real "VY" 1 3 9, Cr<m0gfc1>; value=0.00000
P_0x5776bb3f38a0 .param/real "VZ" 1 3 10, Cr<m0gfc1>; value=0.00000
P_0x5776bb3f38e0 .param/l "WP" 1 3 3, +C4<00000000000000000000000000100000>;
v0x5776bb4325f0_0 .var "alpha", 31 0;
v0x5776bb432760_0 .net/s "cx", 31 0, L_0x5776bb445140;  1 drivers
v0x5776bb432850_0 .net/s "cy", 31 0, L_0x5776bb445280;  1 drivers
v0x5776bb432950_0 .net/s "cz", 31 0, L_0x5776bb4453c0;  1 drivers
v0x5776bb432a20_0 .var/i "fin", 31 0;
v0x5776bb432ac0_0 .var/i "fout", 31 0;
v0x5776bb432ba0_0 .var/s "px", 31 0;
v0x5776bb432c60_0 .var/s "py", 31 0;
v0x5776bb432d30_0 .var/s "pz", 31 0;
v0x5776bb432e90_0 .var/real "rdt", 0 0;
v0x5776bb432f30_0 .var/real "rx", 0 0;
v0x5776bb432ff0_0 .var/real "ry", 0 0;
v0x5776bb4330b0_0 .var/real "rz", 0 0;
v0x5776bb433170_0 .var/s "vT_x", 31 0;
v0x5776bb433230_0 .var/s "vT_y", 31 0;
v0x5776bb433340_0 .var/s "vT_z", 31 0;
S_0x5776bb3f6fe0 .scope module, "dut" "top_motion_corrector" 3 19, 4 1 0, S_0x5776bb3f5fb0;
 .timescale 0 0;
    .port_info 0 /INPUT 32 "px";
    .port_info 1 /INPUT 32 "py";
    .port_info 2 /INPUT 32 "pz";
    .port_info 3 /INPUT 32 "alpha";
    .port_info 4 /INPUT 32 "vT_x";
    .port_info 5 /INPUT 32 "vT_y";
    .port_info 6 /INPUT 32 "vT_z";
    .port_info 7 /OUTPUT 32 "cx";
    .port_info 8 /OUTPUT 32 "cy";
    .port_info 9 /OUTPUT 32 "cz";
P_0x5776bb405500 .param/l "WP" 0 4 2, +C4<00000000000000000000000000100000>;
v0x5776bb430ea0_0 .net "alpha", 31 0, v0x5776bb4325f0_0;  1 drivers
v0x5776bb430f80_0 .net/s "cx", 31 0, L_0x5776bb445140;  alias, 1 drivers
v0x5776bb431060_0 .net/s "cy", 31 0, L_0x5776bb445280;  alias, 1 drivers
v0x5776bb431120_0 .net/s "cz", 31 0, L_0x5776bb4453c0;  alias, 1 drivers
v0x5776bb431200_0 .net/s "px", 31 0, v0x5776bb432ba0_0;  1 drivers
v0x5776bb4312e0_0 .net/s "py", 31 0, v0x5776bb432c60_0;  1 drivers
v0x5776bb4313c0_0 .net/s "pz", 31 0, v0x5776bb432d30_0;  1 drivers
v0x5776bb4314a0_0 .net/s "tx", 31 0, L_0x5776bb433d30;  1 drivers
v0x5776bb431560_0 .net/s "ty", 31 0, L_0x5776bb4446c0;  1 drivers
v0x5776bb431690_0 .net/s "tz", 31 0, L_0x5776bb445000;  1 drivers
v0x5776bb431760_0 .net/s "vT_x", 31 0, v0x5776bb433170_0;  1 drivers
v0x5776bb431830_0 .net/s "vT_y", 31 0, v0x5776bb433230_0;  1 drivers
v0x5776bb431900_0 .net/s "vT_z", 31 0, v0x5776bb433340_0;  1 drivers
L_0x5776bb445140 .arith/sum 32, v0x5776bb432ba0_0, L_0x5776bb433d30;
L_0x5776bb445280 .arith/sum 32, v0x5776bb432c60_0, L_0x5776bb4446c0;
L_0x5776bb4453c0 .arith/sum 32, v0x5776bb432d30_0, L_0x5776bb445000;
S_0x5776bb3f8380 .scope module, "lerp_x" "lerp" 4 15, 5 1 0, S_0x5776bb3f6fe0;
 .timescale 0 0;
    .port_info 0 /INPUT 32 "a";
    .port_info 1 /INPUT 32 "b";
    .port_info 2 /INPUT 32 "alpha";
    .port_info 3 /OUTPUT 32 "out";
P_0x5776bb4074d0 .param/l "W" 0 5 2, +C4<00000000000000000000000000100000>;
v0x5776bb3f5cc0_0 .net *"_ivl_10", 63 0, L_0x5776bb433ab0;  1 drivers
v0x5776bb42e6f0_0 .net *"_ivl_12", 33 0, L_0x5776bb433980;  1 drivers
v0x5776bb42e7d0_0 .net/s *"_ivl_14", 63 0, L_0x5776bb433ba0;  1 drivers
v0x5776bb42e890_0 .net/s *"_ivl_2", 63 0, L_0x5776bb433560;  1 drivers
v0x5776bb42e970_0 .net/s *"_ivl_4", 63 0, L_0x5776bb433650;  1 drivers
v0x5776bb42eaa0_0 .net/s *"_ivl_8", 63 0, L_0x5776bb433890;  1 drivers
L_0x7bf43806f018 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x5776bb42eb80_0 .net/s "a", 31 0, L_0x7bf43806f018;  1 drivers
v0x5776bb42ec60_0 .net "alpha", 31 0, v0x5776bb4325f0_0;  alias, 1 drivers
v0x5776bb42ed40_0 .net/s "b", 31 0, v0x5776bb433170_0;  alias, 1 drivers
v0x5776bb42ee20_0 .net/s "diff", 31 0, L_0x5776bb433450;  1 drivers
v0x5776bb42ef00_0 .net/s "mult", 63 0, L_0x5776bb4336f0;  1 drivers
v0x5776bb42efe0_0 .net/s "out", 31 0, L_0x5776bb433d30;  alias, 1 drivers
L_0x5776bb433450 .arith/sub 32, v0x5776bb433170_0, L_0x7bf43806f018;
L_0x5776bb433560 .extend/s 64, L_0x5776bb433450;
L_0x5776bb433650 .extend/s 64, v0x5776bb4325f0_0;
L_0x5776bb4336f0 .arith/mult 64, L_0x5776bb433560, L_0x5776bb433650;
L_0x5776bb433890 .extend/s 64, L_0x7bf43806f018;
L_0x5776bb433980 .part L_0x5776bb4336f0, 30, 34;
L_0x5776bb433ab0 .extend/s 64, L_0x5776bb433980;
L_0x5776bb433ba0 .arith/sum 64, L_0x5776bb433890, L_0x5776bb433ab0;
L_0x5776bb433d30 .part L_0x5776bb433ba0, 0, 32;
S_0x5776bb42f140 .scope module, "lerp_y" "lerp" 4 16, 5 1 0, S_0x5776bb3f6fe0;
 .timescale 0 0;
    .port_info 0 /INPUT 32 "a";
    .port_info 1 /INPUT 32 "b";
    .port_info 2 /INPUT 32 "alpha";
    .port_info 3 /OUTPUT 32 "out";
P_0x5776bb42f2f0 .param/l "W" 0 5 2, +C4<00000000000000000000000000100000>;
v0x5776bb42f430_0 .net *"_ivl_10", 63 0, L_0x5776bb444440;  1 drivers
v0x5776bb42f510_0 .net *"_ivl_12", 33 0, L_0x5776bb444310;  1 drivers
v0x5776bb42f5f0_0 .net/s *"_ivl_14", 63 0, L_0x5776bb444530;  1 drivers
v0x5776bb42f6e0_0 .net/s *"_ivl_2", 63 0, L_0x5776bb443f20;  1 drivers
v0x5776bb42f7c0_0 .net/s *"_ivl_4", 63 0, L_0x5776bb444010;  1 drivers
v0x5776bb42f8f0_0 .net/s *"_ivl_8", 63 0, L_0x5776bb444220;  1 drivers
L_0x7bf43806f060 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x5776bb42f9d0_0 .net/s "a", 31 0, L_0x7bf43806f060;  1 drivers
v0x5776bb42fab0_0 .net "alpha", 31 0, v0x5776bb4325f0_0;  alias, 1 drivers
v0x5776bb42fb70_0 .net/s "b", 31 0, v0x5776bb433230_0;  alias, 1 drivers
v0x5776bb42fc30_0 .net/s "diff", 31 0, L_0x5776bb443e80;  1 drivers
v0x5776bb42fd10_0 .net/s "mult", 63 0, L_0x5776bb4440b0;  1 drivers
v0x5776bb42fdf0_0 .net/s "out", 31 0, L_0x5776bb4446c0;  alias, 1 drivers
L_0x5776bb443e80 .arith/sub 32, v0x5776bb433230_0, L_0x7bf43806f060;
L_0x5776bb443f20 .extend/s 64, L_0x5776bb443e80;
L_0x5776bb444010 .extend/s 64, v0x5776bb4325f0_0;
L_0x5776bb4440b0 .arith/mult 64, L_0x5776bb443f20, L_0x5776bb444010;
L_0x5776bb444220 .extend/s 64, L_0x7bf43806f060;
L_0x5776bb444310 .part L_0x5776bb4440b0, 30, 34;
L_0x5776bb444440 .extend/s 64, L_0x5776bb444310;
L_0x5776bb444530 .arith/sum 64, L_0x5776bb444220, L_0x5776bb444440;
L_0x5776bb4446c0 .part L_0x5776bb444530, 0, 32;
S_0x5776bb42ff80 .scope module, "lerp_z" "lerp" 4 17, 5 1 0, S_0x5776bb3f6fe0;
 .timescale 0 0;
    .port_info 0 /INPUT 32 "a";
    .port_info 1 /INPUT 32 "b";
    .port_info 2 /INPUT 32 "alpha";
    .port_info 3 /OUTPUT 32 "out";
P_0x5776bb430110 .param/l "W" 0 5 2, +C4<00000000000000000000000000100000>;
v0x5776bb430310_0 .net *"_ivl_10", 63 0, L_0x5776bb444d80;  1 drivers
v0x5776bb4303f0_0 .net *"_ivl_12", 33 0, L_0x5776bb444c90;  1 drivers
v0x5776bb4304d0_0 .net/s *"_ivl_14", 63 0, L_0x5776bb444e70;  1 drivers
v0x5776bb4305c0_0 .net/s *"_ivl_2", 63 0, L_0x5776bb4448a0;  1 drivers
v0x5776bb4306a0_0 .net/s *"_ivl_4", 63 0, L_0x5776bb444990;  1 drivers
v0x5776bb4307d0_0 .net/s *"_ivl_8", 63 0, L_0x5776bb444ba0;  1 drivers
L_0x7bf43806f0a8 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x5776bb4308b0_0 .net/s "a", 31 0, L_0x7bf43806f0a8;  1 drivers
v0x5776bb430990_0 .net "alpha", 31 0, v0x5776bb4325f0_0;  alias, 1 drivers
v0x5776bb430aa0_0 .net/s "b", 31 0, v0x5776bb433340_0;  alias, 1 drivers
v0x5776bb430b80_0 .net/s "diff", 31 0, L_0x5776bb444800;  1 drivers
v0x5776bb430c60_0 .net/s "mult", 63 0, L_0x5776bb444a30;  1 drivers
v0x5776bb430d40_0 .net/s "out", 31 0, L_0x5776bb445000;  alias, 1 drivers
L_0x5776bb444800 .arith/sub 32, v0x5776bb433340_0, L_0x7bf43806f0a8;
L_0x5776bb4448a0 .extend/s 64, L_0x5776bb444800;
L_0x5776bb444990 .extend/s 64, v0x5776bb4325f0_0;
L_0x5776bb444a30 .arith/mult 64, L_0x5776bb4448a0, L_0x5776bb444990;
L_0x5776bb444ba0 .extend/s 64, L_0x7bf43806f0a8;
L_0x5776bb444c90 .part L_0x5776bb444a30, 30, 34;
L_0x5776bb444d80 .extend/s 64, L_0x5776bb444c90;
L_0x5776bb444e70 .arith/sum 64, L_0x5776bb444ba0, L_0x5776bb444d80;
L_0x5776bb445000 .part L_0x5776bb444e70, 0, 32;
S_0x5776bb431b50 .scope function.real, "from_q16_16" "from_q16_16" 3 33, 3 33 0, S_0x5776bb3f5fb0;
 .timescale 0 0;
; Variable from_q16_16 is REAL return value of scope S_0x5776bb431b50
v0x5776bb431dc0_0 .var/s "q", 31 0;
TD_tb_motion_corrector.from_q16_16 ;
    %load/vec4 v0x5776bb431dc0_0;
    %cvt/rv/s;
    %pushi/real 1073741824, 4082; load=65536.0
    %div/wr;
    %ret/real 0; Assign to from_q16_16
    %end;
S_0x5776bb431ea0 .scope function.vec4.s32, "to_q0_30" "to_q0_30" 3 37, 3 37 0, S_0x5776bb3f5fb0;
 .timescale 0 0;
v0x5776bb4320b0_0 .var/real "r", 0 0;
; Variable to_q0_30 is vec4 return value of scope S_0x5776bb431ea0
TD_tb_motion_corrector.to_q0_30 ;
    %load/real v0x5776bb4320b0_0;
    %pushi/real 1073741824, 4096; load=1.07374e+09
    %mul/wr;
    %vpi_func 3 38 "$rtoi" 32, W<0,r> {0 1 0};
    %ret/vec4 0, 0, 32;  Assign to to_q0_30 (store_vec4_to_lval)
    %end;
S_0x5776bb432250 .scope function.vec4.u32, "to_q16_16" "to_q16_16" 3 29, 3 29 0, S_0x5776bb3f5fb0;
 .timescale 0 0;
v0x5776bb432430_0 .var/real "r", 0 0;
; Variable to_q16_16 is vec4 return value of scope S_0x5776bb432250
TD_tb_motion_corrector.to_q16_16 ;
    %load/real v0x5776bb432430_0;
    %pushi/real 1073741824, 4082; load=65536.0
    %mul/wr;
    %vpi_func 3 30 "$rtoi" 32, W<0,r> {0 1 0};
    %ret/vec4 0, 0, 32;  Assign to to_q16_16 (store_vec4_to_lval)
    %end;
    .scope S_0x5776bb3f5fb0;
T_3 ;
    %pushi/real 1288490188, 4065; load=0.600000
    %pushi/real 3355444, 4043; load=0.600000
    %add/wr;
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb433170_0, 0, 32;
    %pushi/real 0, 4065; load=0.00000
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb433230_0, 0, 32;
    %pushi/real 0, 4065; load=0.00000
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb433340_0, 0, 32;
    %vpi_func 3 47 "$fopen" 32, "data/input_points.txt", "r" {0 0 0};
    %store/vec4 v0x5776bb432a20_0, 0, 32;
    %load/vec4 v0x5776bb432a20_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_3.0, 4;
    %vpi_call/w 3 49 "$display", "ERROR: cannot open input_points.txt" {0 0 0};
    %vpi_call/w 3 50 "$finish" {0 0 0};
T_3.0 ;
    %vpi_func 3 53 "$fopen" 32, "data/output_points.txt", "w" {0 0 0};
    %store/vec4 v0x5776bb432ac0_0, 0, 32;
    %vpi_call/w 3 54 "$fwrite", v0x5776bb432ac0_0, "# cx cy cz\012" {0 0 0};
T_3.2 ;
    %vpi_func 3 57 "$fscanf" 32, v0x5776bb432a20_0, "%f %f %f %f", v0x5776bb432f30_0, v0x5776bb432ff0_0, v0x5776bb4330b0_0, v0x5776bb432e90_0 {0 0 0};
    %cmpi/e 4, 0, 32;
    %jmp/0xz T_3.3, 4;
    %load/real v0x5776bb432f30_0;
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb432ba0_0, 0, 32;
    %load/real v0x5776bb432ff0_0;
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb432c60_0, 0, 32;
    %load/real v0x5776bb4330b0_0;
    %store/real v0x5776bb432430_0;
    %callf/vec4 TD_tb_motion_corrector.to_q16_16, S_0x5776bb432250;
    %store/vec4 v0x5776bb432d30_0, 0, 32;
    %load/real v0x5776bb432e90_0;
    %pushi/real 1717986918, 4063; load=0.200000
    %pushi/real 1677722, 4041; load=0.200000
    %add/wr;
    %div/wr;
    %store/real v0x5776bb4320b0_0;
    %callf/vec4 TD_tb_motion_corrector.to_q0_30, S_0x5776bb431ea0;
    %store/vec4 v0x5776bb4325f0_0, 0, 32;
    %delay 1, 0;
    %load/vec4 v0x5776bb432760_0;
    %store/vec4 v0x5776bb431dc0_0, 0, 32;
    %callf/real TD_tb_motion_corrector.from_q16_16, S_0x5776bb431b50;
    %load/vec4 v0x5776bb432850_0;
    %store/vec4 v0x5776bb431dc0_0, 0, 32;
    %callf/real TD_tb_motion_corrector.from_q16_16, S_0x5776bb431b50;
    %load/vec4 v0x5776bb432950_0;
    %store/vec4 v0x5776bb431dc0_0, 0, 32;
    %callf/real TD_tb_motion_corrector.from_q16_16, S_0x5776bb431b50;
    %vpi_call/w 3 65 "$fwrite", v0x5776bb432ac0_0, "%0.6f %0.6f %0.6f\012", W<2,r>, W<1,r>, W<0,r> {0 3 0};
    %jmp T_3.2;
T_3.3 ;
    %vpi_call/w 3 71 "$fclose", v0x5776bb432a20_0 {0 0 0};
    %vpi_call/w 3 72 "$fclose", v0x5776bb432ac0_0 {0 0 0};
    %vpi_call/w 3 73 "$display", "Wrote data/output_points.txt" {0 0 0};
    %vpi_call/w 3 74 "$finish" {0 0 0};
    %end;
    .thread T_3;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "-";
    "tb/tb_motion_corrector.sv";
    "../rtl/top_motion_corrector.v";
    "../rtl/point_processing/lerp.v";
